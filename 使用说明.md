# Bug Shot Turbo - 操作手册

> 🚀 **极速BUG提交工具** - 专为TAPD缺陷管理系统设计的截图标注工具

## 📋 工具特色

- 🎯 **一键截图标注** - 框选问题区域，快速添加描述
- 🏷️ **智能标签分类** - 按钮失效、表单校验、样式错位、接口报错等
- 🔄 **自动化流程** - 截图→标注→跳转→填充，一气呵成
- 📋 **格式化输出** - 自动生成规范的缺陷描述模板

## 🛠️ 第一步：安装和初始配置

### 1.1 安装扩展

1. 打开浏览器扩展管理页面
2. 启用"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择Bug Shot Turbo文件夹

### 1.2 配置TAPD项目信息

> ⚠️ **重要**：使用前必须先配置您的TAPD项目ID

**步骤：**

1. **获取TAPD项目ID**
   - 打开您的TAPD项目页面
   - 查看URL中的项目ID，例如：`https://www.tapd.cn/12345678/bugtrace/bugs/view`
   - 项目ID就是：`12345678`

2. **配置扩展设置**
   - 右键点击扩展图标 → 选择"选项"
   - 或在扩展管理页面点击"详细信息" → "扩展程序选项"
   
3. **填写配置信息**
   ```
   TAPD项目ID：12345678（替换为您的实际项目ID）
   TAPD域名：tapd.cn 或 tapd.tencent.com（根据您的TAPD环境）
   ```

4. **保存配置**
   - 点击"保存配置"按钮
   - 看到"配置保存成功"提示

### 1.3 测试配置

1. 打开您的TAPD项目任意页面
2. 按下 `Alt + S` 测试是否能激活截图工具
3. 如果看到半透明遮罩层，说明配置成功

## 📸 第二步：截图标注操作

### 2.1 激活截图模式

在需要截图的页面上：

**方式一：键盘快捷键（推荐）**
```
Alt + S
```

**方式二：扩展图标**
- 点击浏览器工具栏中的Bug Shot Turbo图标

**预期效果：**
- 页面出现半透明黑色遮罩
- 鼠标变为十字光标
- 看到提示"🖱️ 拖动鼠标框选第一个问题区域"

### 2.2 框选问题区域

**操作步骤：**

1. **按住鼠标左键**在问题区域的左上角
2. **拖动鼠标**到右下角形成矩形选区
3. **松开鼠标**，选区周围出现红色边框
4. 弹出标注输入面板

**注意事项：**
- 选区必须大于10x10像素才有效
- 如果选区太小，会自动取消
- 选区内部是透明的，可以看到下方内容

### 2.3 填写问题信息

标注面板包含三部分：

#### A. 选择问题标签（必填）

点击其中一个标签：
- 🔘 **按钮失效** - 按钮无法点击、无响应
- 📝 **表单校验** - 表单验证错误、提交失败  
- 🎨 **样式错位** - 布局异常、显示错乱
- ⚠️ **接口报错** - API调用失败、数据错误
- ❓ **其他** - 以上分类无法涵盖的问题

#### B. 输入问题描述（必填）

在输入框中填写：
- **具体现象**：用户看到什么？
- **操作步骤**：如何重现？
- **预期行为**：应该怎样？

**示例：**
```
点击"登录"按钮后无任何反应，控制台显示404错误
```

#### C. 选择操作

- **继续框选**：在同一截图中标注更多问题
- **完成提交**：结束标注，生成最终截图

### 2.4 多区域标注（可选）

如果页面有多个问题，可以继续标注：

1. 点击"继续框选"按钮
2. 重复框选和描述步骤
3. 每个新问题会自动编号 #1, #2, #3...
4. 完成所有标注后点击"完成提交"

## 🔄 第三步：自动跳转和填充

### 3.1 自动处理流程

点击"完成提交"后，系统会自动：

1. **生成标注截图**
   - 在原截图上绘制红色边框
   - 添加问题序号和描述标签
   - 将截图复制到剪贴板

2. **跳转TAPD页面**
   - 自动打开配置的TAPD项目缺陷提交页面
   - 如果弹窗被阻止，会显示确认对话框

3. **自动填充基础信息**
   - 缺陷标题：`[标签] 问题描述（页面标识）`
   - 缺陷描述：规范化模板格式

### 3.2 在TAPD页面完成提交

**自动填充内容：**

```
【问题】按钮失效 - 登录按钮无响应
【页面】https://example.com/login
【时间】2024/1/15 10:30:25
【期望】<在此补充>
【实际】<在此补充>
（截图：粘贴后见下）
```

**手动操作：**

1. **检查自动填充的信息**
   - 标题是否准确
   - 基础描述是否正确

2. **补充详细信息**
   - 填写"期望"部分：应该的正确行为
   - 填写"实际"部分：当前的错误现象
   - 选择缺陷等级、指派人等

3. **粘贴截图**
   - 在描述框中按 `Ctrl + V` 粘贴截图
   - 截图会自动插入到文档中

4. **提交缺陷**
   - 检查信息完整性
   - 点击"提交"按钮

## ⚙️ 第四步：高级配置和自定义

### 4.1 修改项目配置

如果需要更换TAPD项目或域名：

1. **打开扩展选项**
   - 右键扩展图标 → "选项"
   - 或在扩展管理页面点击"详细信息" → "扩展程序选项"

2. **修改配置项**
   - **TAPD项目ID**：修改为新的项目ID
   - **TAPD域名**：选择 tapd.cn 或 tapd.tencent.com
   - **缺陷标签**：可以添加或修改预设标签

3. **保存并测试**
   - 点击"保存配置"
   - 在新项目页面测试功能是否正常

### 4.2 自定义填充模板

**标题模板格式：**
```
默认：[${标签}] ${问题描述}（${页面标识}）
示例：[按钮失效] 登录按钮无响应（login）
```

**描述模板格式：**
```
【问题】${标签} - ${问题描述}
【页面】${完整URL}
【时间】${截图时间戳}
【期望】<在此补充>
【实际】<在此补充>
（截图：粘贴后见下）
```

### 4.3 键盘快捷键修改

**默认快捷键：**`Alt + S`

**修改步骤：**
1. 打开浏览器 → 更多工具 → 扩展程序
2. 左侧菜单选择"键盘快捷键"
3. 找到"Bug Shot Turbo"
4. 点击铅笔图标修改快捷键

## 🚨 第五步：常见问题解决

### 5.1 扩展无法激活

**现象：**按Alt+S无反应，页面没有出现遮罩层

**解决步骤：**
1. **检查扩展状态**
   - 打开扩展管理页面
   - 确认Bug Shot Turbo已启用
   - 查看是否有错误提示

2. **检查页面权限**
   - 确保当前页面不是浏览器内置页面（如chrome://）
   - 检查扩展是否有该网站的访问权限

3. **重新加载扩展**
   - 在扩展管理页面点击"重新加载"
   - 刷新当前页面重试

### 5.2 自动跳转不工作

**现象：**完成提交后没有自动跳转到TAPD页面

**解决步骤：**
1. **检查弹窗拦截**
   - 浏览器地址栏右侧是否有弹窗拦截图标
   - 点击允许弹窗，然后重试

2. **使用手动跳转**
   - 看到成功提示后，点击"跳转到TAPD"按钮
   - 或手动复制TAPD链接打开

3. **确认项目ID配置**
   - 检查扩展选项中的项目ID是否正确
   - 尝试手动访问TAPD项目页面

### 5.3 TAPD页面不自动填充

**现象：**跳转到TAPD页面后，标题和描述没有自动填充

**解决步骤：**
1. **等待页面加载完成**
   - TAPD页面可能需要几秒加载时间
   - 等待5-10秒后查看是否开始填充

2. **使用调试工具**
   - 按F12打开控制台
   - 输入：`window.bstTapdDebug.testPageDetection()`
   - 查看哪些选择器找不到元素

3. **手动触发填充**
   - 控制台输入：`window.bstTapdDebug.checkAndFill()`
   - 如果有数据会立即尝试填充

### 5.4 选择框显示异常

**现象：**选择框不是透明的，或者显示异常

**解决步骤：**
1. **清除浏览器缓存**
   - Ctrl+Shift+Delete 清除缓存
   - 重新加载页面

2. **检查页面样式冲突**
   - 某些网站的CSS可能影响扩展样式
   - 尝试在不同网站测试

3. **更新扩展**
   - 确认使用的是最新版本
   - 重新安装扩展

## 📊 第六步：最佳实践

### 6.1 高效标注技巧

1. **选区精准框选**
   - 框选范围包含完整的问题元素
   - 避免框选过大或过小的区域
   - 多个相关元素可以用一个框选区

2. **描述规范写作**
   ```
   ✅ 好的描述：点击"保存"按钮后页面无响应，控制台显示500错误
   ❌ 差的描述：按钮不行了
   ```

3. **标签选择原则**
   - 按钮失效：交互元素无响应
   - 表单校验：输入验证相关
   - 样式错位：视觉显示问题  
   - 接口报错：数据请求问题
   - 其他：无法归类的问题

### 6.2 团队协作规范

1. **统一标题格式**
   - 保持自动生成的标题格式
   - 不要随意修改标题结构

2. **描述模板使用**
   - 【期望】部分详细描述正确行为
   - 【实际】部分准确描述当前现象
   - 必要时补充重现步骤

3. **截图质量要求**
   - 确保截图清晰可见
   - 标注框选区域准确
   - 一次截图不要包含太多问题

### 6.3 效率提升建议

1. **批量处理相似问题**
   - 同类型问题集中标注
   - 利用多区域功能一次处理多个问题

2. **快捷键熟练使用**
   - Alt+S：激活截图
   - Tab：在标签间切换
   - Enter：确认输入

3. **模板内容预填充**
   - 在扩展选项中预设常用描述模板
   - 减少重复输入相同内容

## 🔧 第七步：技术支持和调试

### 7.1 日志查看方法

**打开控制台：**
- Windows/Linux：F12 或 Ctrl+Shift+I
- Mac：Cmd+Option+I

**关键日志标识：**
- `BST: ` - 主功能日志
- `BST TAPD Filler: ` - 自动填充日志
- `BST Background: ` - 后台服务日志

### 7.2 调试命令速查

在TAPD页面控制台中可用：

```javascript
// 测试页面识别和元素匹配
window.bstTapdDebug.testPageDetection()

// 手动触发自动填充
window.bstTapdDebug.checkAndFill() 

// 检查页面是否被识别为TAPD页面
window.bstTapdDebug.isTapdPage()
```

### 7.3 常见错误码

- `ERR_NO_BUG_DATA` - 没有待填充的BUG数据
- `ERR_SELECTOR_NOT_FOUND` - 页面元素选择器未找到
- `ERR_POPUP_BLOCKED` - 浏览器阻止了弹窗
- `ERR_PERMISSION_DENIED` - 扩展权限不足

---

## 📞 联系支持

如果按照手册操作仍遇到问题，请提供：

1. **操作系统和浏览器版本**
2. **具体的错误现象截图**
3. **控制台错误日志**
4. **TAPD页面URL（如涉及自动填充问题）**

**🎯 目标：让每个BUG都能被快速、准确地记录和跟踪！**